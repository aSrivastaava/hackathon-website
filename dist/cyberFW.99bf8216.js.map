{"version":3,"sources":["js/cyberFW.js"],"names":["as","document","querySelector","c","cyberFW","getContext","width","innerWidth","height","innerHeight","mouse","x","y","colors","addEventListener","event","clientX","clientY","init","randomIntFromRange","min","max","Math","floor","random","randomColor","length","Particle","dx","dy","radius","color","timeToLive","opacity","r","g","b","update","draw","save","beginPath","arc","PI","fillStyle","toFixed","fill","closePath","restore","Mortar","triggered","explosion","waveOffset","delta","ttl","sin","explode","callback","Explosion","particles","source","rings","i","v","push","splice","mortars","elapsed","randomInterval","animate","requestAnimationFrame","fillRect"],"mappings":"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","file":"cyberFW.99bf8216.js","sourceRoot":"..","sourcesContent":["// Initial Setup\r\nconst as = document.querySelector(\"cyberFW\");\r\nconst c = cyberFW.getContext(\"2d\");\r\n\r\ncyberFW.width = innerWidth;\r\ncyberFW.height = innerHeight;\r\n\r\n// Variables\r\nlet mouse = {\r\n  x: innerWidth / 2,\r\n  y: innerHeight / 2\r\n};\r\n\r\nconst colors = [\"#2185C5\", \"#7ECEFD\", \"#FFF6E5\", \"#FF7F66\"];\r\n\r\n// Event Listeners\r\naddEventListener(\"mousemove\", function(event) {\r\n  mouse.x = event.clientX;\r\n  mouse.y = event.clientY;\r\n});\r\n\r\naddEventListener(\"resize\", function() {\r\n  cyberFW.width = innerWidth;\r\n  cyberFW.height = innerHeight;\r\n\r\n  init();\r\n});\r\n\r\n// Utility Functions\r\nfunction randomIntFromRange(min, max) {\r\n  return Math.floor(Math.random() * (max - min + 1) + min);\r\n}\r\n\r\nfunction randomColor(colors) {\r\n  return colors[Math.floor(Math.random() * colors.length)];\r\n}\r\n\r\n// Objects\r\nfunction Particle(x, y, dx, dy, radius, color) {\r\n  this.x = x;\r\n  this.y = y;\r\n  this.dx = dx;\r\n  this.dy = -dy;\r\n  this.radius = 5;\r\n  this.color = color;\r\n  this.timeToLive = 2;\r\n  this.opacity = 1;\r\n  this.r = 10;\r\n  this.g = 10;\r\n  this.b = randomIntFromRange(150, 250);\r\n\r\n  this.update = function() {\r\n    if (this.y + this.radius + this.dy > cyberFW.height) {\r\n      this.dy = -this.dy;\r\n    }\r\n\r\n    if (\r\n      this.x + this.radius + this.dx > cyberFW.width ||\r\n      this.x - this.radius + this.dx < 0\r\n    ) {\r\n      this.dx = -this.dx;\r\n    }\r\n    // this.dy += gravity * this.mass;\r\n    this.x += Math.random() > 0.5 ? dx : -dx;\r\n    this.y += Math.random() > 0.5 ? dy : -dy;\r\n    this.draw();\r\n\r\n    this.timeToLive -= 0.01;\r\n  };\r\n\r\n  this.draw = function() {\r\n    this.opacity = this.timeToLive / 1;\r\n\r\n    c.save();\r\n    c.beginPath();\r\n    c.arc(this.x, this.y, 2, 0, Math.PI * 2, false);\r\n    c.fillStyle =\r\n      \"rgba(\" +\r\n      this.r +\r\n      \",\" +\r\n      this.g +\r\n      \",\" +\r\n      this.b +\r\n      \",\" +\r\n      this.opacity.toFixed(2) +\r\n      \")\";\r\n    c.fill();\r\n\r\n    c.closePath();\r\n\r\n    c.restore();\r\n  };\r\n}\r\n\r\nfunction Mortar(x, y, dx, dy, radius, color) {\r\n  this.x = x;\r\n  this.y = y;\r\n  this.dx = dx;\r\n  this.dy = dy;\r\n  this.radius = radius;\r\n  this.color = color;\r\n  this.triggered = false;\r\n  this.explosion;\r\n  this.waveOffset = randomIntFromRange(1, 2);\r\n\r\n  this.update = delta => {\r\n    this.draw();\r\n    this.ttl -= 1;\r\n\r\n    this.dy += 0.11;\r\n    this.x += this.dx * Math.sin(delta) * this.waveOffset;\r\n    this.y += this.dy;\r\n\r\n    if (this.dy > 0) {\r\n      this.triggered = true;\r\n    }\r\n  };\r\n\r\n  this.draw = function() {\r\n    c.beginPath();\r\n    c.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);\r\n    c.fillStyle = this.color;\r\n    c.fill();\r\n    c.closePath();\r\n  };\r\n\r\n  this.explode = function(callback) {\r\n    // Create explosion... if particle count == 0, call callback\r\n    if (typeof this.explosion == \"undefined\") {\r\n      this.explosion = new Explosion(this);\r\n      this.radius = 0;\r\n    }\r\n    this.explosion.update();\r\n\r\n    if (this.explosion.particles.length <= 0) {\r\n      callback();\r\n    }\r\n  };\r\n}\r\n\r\nfunction Explosion(source) {\r\n  this.particles = [];\r\n  this.rings = [];\r\n  this.source = source;\r\n\r\n  this.init = function() {\r\n    for (var i = 0; i < 12; i++) {\r\n      const v = 7;\r\n      var dx = v;\r\n      var dy = v;\r\n\r\n      // var hue = (255 / 5) * i;\r\n      // var color = \"hsl(\" + hue + \", 100%, 50%)\";\r\n      this.particles.push(\r\n        new Particle(this.source.x, this.source.y, dx, dy, 1, \"blue\")\r\n      );\r\n    }\r\n  };\r\n\r\n  this.init();\r\n\r\n  this.update = function() {\r\n    for (var i = 0; i < this.particles.length; i++) {\r\n      this.particles[i].update();\r\n\r\n      // Remove particles from scene one time to live is up\r\n      if (this.particles[i].timeToLive < 0) {\r\n        this.particles.splice(i, 1);\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n// Implementation\r\nlet mortars = [];\r\n\r\nfunction init() {}\r\n\r\n// Animation Loop\r\nlet elapsed = 0;\r\nlet randomInterval = randomIntFromRange(80, 170);\r\nfunction animate() {\r\n  requestAnimationFrame(animate);\r\n  c.fillStyle = \"rgba(0,0,0, 0.02)\";\r\n  c.fillRect(0, 0, cyberFW.width, cyberFW.height);\r\n\r\n  for (let i = 0; i < mortars.length; i++) {\r\n    mortars[i].update(elapsed);\r\n\r\n    if (mortars[i].triggered === true) {\r\n      mortars[i].explode(() => {\r\n        mortars.splice(i, 1);\r\n      });\r\n    }\r\n  }\r\n\r\n  if (elapsed % randomInterval == 0) {\r\n    const x = randomIntFromRange(10, cyberFW.width - 10);\r\n    const dy = randomIntFromRange(-5, -10);\r\n    mortars.push(new Mortar(x, cyberFW.height, 2, dy, 3, \"blue\"));\r\n    randomInterval = randomIntFromRange(50, 100);\r\n  }\r\n\r\n  elapsed += 1;\r\n}\r\n\r\ninit();\r\nanimate();\r\n"]}